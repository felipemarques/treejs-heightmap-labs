var b=function(){var s=0,l=document.createElement("div");l.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",l.addEventListener("click",function(a){a.preventDefault(),t(++s%l.children.length)},!1);function o(a){return l.appendChild(a.dom),a}function t(a){for(var i=0;i<l.children.length;i++)l.children[i].style.display=i===a?"block":"none";s=a}var r=(performance||Date).now(),c=r,n=0,m=o(new b.Panel("FPS","#0ff","#002")),v=o(new b.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var u=o(new b.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:l,addPanel:o,showPanel:t,begin:function(){r=(performance||Date).now()},end:function(){n++;var a=(performance||Date).now();if(v.update(a-r,200),a>=c+1e3&&(m.update(n*1e3/(a-c),100),c=a,n=0,u)){var i=performance.memory;u.update(i.usedJSHeapSize/1048576,i.jsHeapSizeLimit/1048576)}return a},update:function(){r=this.end()},domElement:l,setMode:t}};b.Panel=function(s,l,o){var t=1/0,r=0,c=Math.round,n=c(window.devicePixelRatio||1),m=80*n,v=48*n,u=3*n,a=2*n,i=3*n,f=15*n,p=74*n,h=30*n,x=document.createElement("canvas");x.width=m,x.height=v,x.style.cssText="width:80px;height:48px";var e=x.getContext("2d");return e.font="bold "+9*n+"px Helvetica,Arial,sans-serif",e.textBaseline="top",e.fillStyle=o,e.fillRect(0,0,m,v),e.fillStyle=l,e.fillText(s,u,a),e.fillRect(i,f,p,h),e.fillStyle=o,e.globalAlpha=.9,e.fillRect(i,f,p,h),{dom:x,update:function(d,S){t=Math.min(t,d),r=Math.max(r,d),e.fillStyle=o,e.globalAlpha=1,e.fillRect(0,0,m,f),e.fillStyle=l,e.fillText(c(d)+" "+s+" ("+c(t)+"-"+c(r)+")",u,a),e.drawImage(x,i+n,f,p-n,h,i,f,p-n,h),e.fillRect(i+p-n,f,n,h),e.fillStyle=o,e.globalAlpha=.9,e.fillRect(i+p-n,f,n,c((1-d/S)*h))}}};const j=Math.sqrt(3),X=.5*(j-1),H=(3-j)/6,F=s=>Math.floor(s)|0,_=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]);function k(s=Math.random){const l=Y(s),o=new Float64Array(l).map(r=>_[r%12*2]),t=new Float64Array(l).map(r=>_[r%12*2+1]);return function(c,n){let m=0,v=0,u=0;const a=(c+n)*X,i=F(c+a),f=F(n+a),p=(i+f)*H,h=i-p,x=f-p,e=c-h,d=n-x;let S,A;e>d?(S=1,A=0):(S=0,A=1);const E=e-S+H,G=d-A+H,M=e-1+2*H,z=d-1+2*H,D=i&255,I=f&255;let g=.5-e*e-d*d;if(g>=0){const y=D+l[I],T=o[y],R=t[y];g*=g,m=g*g*(T*e+R*d)}let w=.5-E*E-G*G;if(w>=0){const y=D+S+l[I+A],T=o[y],R=t[y];w*=w,v=w*w*(T*E+R*G)}let P=.5-M*M-z*z;if(P>=0){const y=D+1+l[I+1],T=o[y],R=t[y];P*=P,u=P*P*(T*M+R*z)}return 70*(m+v+u)}}function Y(s){const o=new Uint8Array(512);for(let t=0;t<512/2;t++)o[t]=t;for(let t=0;t<512/2-1;t++){const r=t+~~(s()*(256-t)),c=o[t];o[t]=o[r],o[r]=c}for(let t=256;t<512;t++)o[t]=o[t-256];return o}export{b as S,k as c};
